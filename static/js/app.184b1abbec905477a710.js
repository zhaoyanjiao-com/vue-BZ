webpackJsonp([1],{"+ZQ5":function(t,e){},"/3PO":function(t,e){},"2Bxi":function(t,e,n){t.exports=n.p+"static/img/2.0ec6f31.jpg"},"4LlH":function(t,e){},"7Otq":function(t,e,n){t.exports=n.p+"static/img/logo.0853264.png"},A1tS:function(t,e,n){t.exports=n.p+"static/img/1.ea58d0d.png"},EeRA:function(t,e){},F7TL:function(t,e){},GhbI:function(t,e){},GlC7:function(t,e){},HKWi:function(t,e){},JMqv:function(t,e,n){"use strict";var s=n("mgr1"),a=n.n(s),r=n("kIoj");var i=function(t){n("GlC7")},o=n("C7Lr")(a.a,r.a,!1,i,"data-v-3dfefc8a",null);e.default=o.exports},"Jm/n":function(t,e){},Md4N:function(t,e,n){t.exports=n.p+"static/img/wo.69e72d7.png"},N0df:function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n("+RKF"),a={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("keep-alive",[this.$route.meta.keepalive?e("router-view"):this._e()],1),this._v(" "),this.$route.meta.keepalive?this._e():e("router-view")],1)},staticRenderFns:[]};var r=n("C7Lr")({name:"App"},a,!1,function(t){n("4LlH")},null,null).exports,i=n("wlOD"),o=n("lC5x"),c=n.n(o),l=n("J0Oq"),u=n.n(l),d={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"top"},[e("div"),this._v(" "),e("div",[this._v(this._s(this.midee))]),this._v(" "),e("div",[this._t("right")],2)])},staticRenderFns:[]};var m=n("C7Lr")({props:["midee"]},d,!1,function(t){n("GhbI")},null,null).exports,p={props:["label","type","placeholder","rule"],data:function(){return{content:""}},methods:{handleru:function(){new RegExp(this.rule).test(this.content)&&this.$emit("inputchage",this.content)}},watch:{content:function(){this.handleru()}}},v={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("van-field",{attrs:{label:t.label,type:t.type,placeholder:t.placeholder,rule:t.rule},model:{value:t.content,callback:function(e){t.content=e},expression:"content"}})],1)},staticRenderFns:[]};var f=n("C7Lr")(p,v,!1,function(t){n("+ZQ5")},null,null).exports,h={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"btn",on:{click:this.onclick}},[e("div",{staticClass:"loginbtn"},[this._v(this._s(this.pasbtn))])])},staticRenderFns:[]};var _=n("C7Lr")({props:["pasbtn"],methods:{onclick:function(){this.$emit("regsumid")}}},h,!1,function(t){n("UQJM")},null,null).exports,g={data:function(){return{mode:{name:"",username:"",password:""}}},components:{logintop:m,logintext:f,loginbtn:_},methods:{regsumid:function(){var t=this;return u()(c.a.mark(function e(){var n,s;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!((n=/^.{6,16}$/).test(t.mode.name)&&n.test(t.mode.username)&&n.test(t.mode.password))){e.next=11;break}return e.next=4,t.$http.post("/register",t.mode);case 4:s=e.sent,t.$msg.fail(s.data.msg),localStorage.setItem("id",s.data.id),localStorage.setItem("token",s.data.objtoken),setTimeout(function(){t.$router.push("/userinfo")},1e3),e.next=12;break;case 11:t.$msg.fail("格式不正确，重新输入");case 12:case"end":return e.stop()}},e,t)}))()}}},x={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("logintop",{attrs:{midee:"注册bilibili"}},[n("div",{staticStyle:{"font-size":"13px"},attrs:{slot:"right"},on:{click:function(e){return t.$router.push("/login")}},slot:"right"},[t._v("登录")])]),t._v(" "),n("logintext",{staticStyle:{margin:"15px 0"},attrs:{label:"姓名",placeholder:"请输入姓名",rule:"^.{6,16}$"},on:{inputchage:function(e){return t.mode.name=e}}}),t._v(" "),n("logintext",{attrs:{label:"账号",placeholder:"请输入账号",rule:"^.{6,16}$"},on:{inputchage:function(e){return t.mode.username=e}}}),t._v(" "),n("logintext",{attrs:{label:"密码",placeholder:"请输入密码",type:"password",rule:"^.{6,16}$"},on:{inputchage:function(e){return t.mode.password=e}}}),t._v(" "),n("loginbtn",{attrs:{pasbtn:"注册"},on:{regsumid:t.regsumid}})],1)},staticRenderFns:[]};var k=n("C7Lr")(g,x,!1,function(t){n("/3PO")},null,null).exports,b={data:function(){return{mode:{username:"",password:""}}},components:{logintop:m,logintext:f,loginbtn:_},methods:{regsumid:function(){var t=this;return u()(c.a.mark(function e(){var n,s;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=/^.{6,16}$/).test(t.mode.username)||!n.test(t.mode.password)){e.next=13;break}return e.next=4,t.$http.post("/login",t.mode);case 4:if(s=e.sent,t.$msg.fail(s.data.msg),301!=s.data.code&&302!=s.data.code){e.next=8;break}return e.abrupt("return");case 8:localStorage.setItem("id",s.data.id),localStorage.setItem("token",s.data.token),setTimeout(function(){t.$router.push("/userinfo")},1e3),e.next=14;break;case 13:t.$msg.fail("格式不正确，重新输入");case 14:case"end":return e.stop()}},e,t)}))()}}},$={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("logintop",{attrs:{midee:"登录bilibili"}},[n("div",{staticStyle:{"font-size":"13px"},attrs:{slot:"right"},on:{click:function(e){return t.$router.push("/register")}},slot:"right"},[t._v("注册")])]),t._v(" "),n("logintext",{staticStyle:{margin:"15px 0"},attrs:{label:"账号",placeholder:"请输入账号",rule:"^.{6,16}$"},on:{inputchage:function(e){return t.mode.username=e}}}),t._v(" "),n("logintext",{attrs:{label:"密码",placeholder:"请输入密码",type:"password",rule:"^.{6,16}$"},on:{inputchage:function(e){return t.mode.password=e}}}),t._v(" "),n("loginbtn",{attrs:{pasbtn:"登录"},on:{regsumid:t.regsumid}})],1)},staticRenderFns:[]};var C=n("C7Lr")(b,$,!1,function(t){n("hKKx")},null,null).exports,w={data:function(){return{imgurl:"",a:null}},mounted:function(){var t=this;return u()(c.a.mark(function e(){var n;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!localStorage.getItem("token")){e.next=5;break}return e.next=3,t.$http.get("/user/"+localStorage.getItem("id"));case 3:n=e.sent,t.imgurl=n.data[0].user_img;case 5:case"end":return e.stop()}},e,t)}))()},methods:{aa:function(){var t=this;return u()(c.a.mark(function e(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.$router.push("/home");case 1:case"end":return e.stop()}},e,t)}))()}}},y={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"navbarq"},[s("div",{staticClass:"logo",on:{click:t.aa}},[s("img",{attrs:{src:n("7Otq"),alt:""}})]),t._v(" "),s("div",{staticClass:"cen"},[s("p",[t._v("\n\t\t\t请输入内容\n\t\t\t"),s("van-icon",{staticClass:"van-icon",attrs:{name:"search"}})],1)]),t._v(" "),s("div",{staticClass:"reg"},[t.imgurl?s("img",{attrs:{src:t.imgurl,alt:""},on:{click:function(e){return t.$router.push("/edit")}}}):t._e(),t._v(" "),t.imgurl?t._e():s("img",{attrs:{src:n("Md4N"),alt:""},on:{click:function(e){return t.$router.push("/login")}}}),t._v(" "),s("p",[t._v("下载app")])])])},staticRenderFns:[]};var S=n("C7Lr")(w,y,!1,function(t){n("N0df")},null,null).exports,I={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"userdeta"},[s("div",[s("div",{staticClass:"user-img"},[t.userinfo.user_img?s("img",{attrs:{src:t.userinfo.user_img,alt:""}}):s("img",{attrs:{src:n("2Bxi"),alt:""}})]),t._v(" "),s("div",{staticClass:"user-edit"},[t._m(0),t._v(" "),s("div",{on:{click:function(e){return t.$router.push("/edit")}}},[s("div",{staticClass:"use-btn"},[t._v("编辑资料")])])])]),t._v(" "),s("div",{staticClass:"user"},[s("h2",[t._v(t._s(t.userinfo.name))]),t._v(" "),t.userinfo.user_desc?s("p",[t._v(t._s(t.userinfo.user_desc))]):s("p",[t._v("这个人优点懒")])])])},staticRenderFns:[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("p",[n("span",[t._v("0")]),t._v(" "),n("span",{staticClass:"user-text"},[t._v("粉丝")])]),t._v(" "),n("p",[n("span",[t._v("0")]),t._v(" "),n("span",{staticClass:"user-text"},[t._v("关注")])]),t._v(" "),n("p",[n("span",[t._v("0")]),t._v(" "),n("span",{staticClass:"user-text"},[t._v("获赞")])])])}]};var E={data:function(){return{mode:{}}},components:{userinfo:S,userdeta:n("C7Lr")({props:["userinfo"]},I,!1,function(t){n("mtcq")},"data-v-49fe88ba",null).exports,userAction:n("JMqv").default},methods:{userinfo:function(){var t=this;return u()(c.a.mark(function e(){var n;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$http.get("/user/"+localStorage.getItem("id"));case 2:n=e.sent,t.mode=n.data[0];case 4:case"end":return e.stop()}},e,t)}))()}},created:function(){this.userinfo()}},L={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"userinfo"},[e("userinfo"),this._v(" "),e("img",{staticClass:"backimg",attrs:{src:n("A1tS"),alt:""}}),this._v(" "),e("userdeta",{attrs:{userinfo:this.mode}}),this._v(" "),e("userAction")],1)},staticRenderFns:[]};var R=n("C7Lr")(E,L,!1,function(t){n("XJs3")},null,null).exports,F={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{on:{click:this.ban}},[e("div",{staticClass:"editbanner"},[e("span",[this._v(this._s(this.left))]),this._v(" "),e("span",[this._t("right")],2)])])},staticRenderFns:[]};var A={data:function(){return{show:!1,textshow:!1,ger:!1,text:"",mode:"",actions:[{name:"男",val:1},{name:"女",val:0}]}},components:{Navbar:S,editbanner:n("C7Lr")({props:["left"],methods:{ban:function(){this.$emit("asd")}}},F,!1,function(t){n("Trrk")},null,null).exports},methods:{setedit:function(){var t=this;return u()(c.a.mark(function e(){var n;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$http.get("/user/"+localStorage.getItem("id"));case 2:n=e.sent,t.mode=n.data[0];case 4:case"end":return e.stop()}},e,t)}))()},afterRead:function(t){var e=this;return u()(c.a.mark(function n(){var s,a;return c.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return(s=new FormData).append("file",t.file),n.next=4,e.$http.post("/upload",s);case 4:a=n.sent,e.mode.user_img=a.data.url,e.userUpda();case 7:case"end":return n.stop()}},n,e)}))()},userUpda:function(){var t=this;return u()(c.a.mark(function e(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$http.post("/update/"+localStorage.getItem("id"),t.mode);case 2:200==e.sent.data.code&&t.$msg.fail("修改成功");case 4:case"end":return e.stop()}},e,t)}))()},confirm:function(){this.mode.name=this.text,this.userUpda(),this.text=""},cancel:function(){this.text=""},confirmq:function(){this.mode.user_desc=this.text,this.userUpda(),this.text=""},onSelect:function(t){this.mode.gender=t.val,this.userUpda(),this.ger=!1}},created:function(){this.setedit()}},N={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.mode?s("div",{staticClass:"aaa"},[s("div",{staticStyle:{"margin-bottom":"15px"}},[s("Navbar")],1),t._v(" "),s("div",{staticClass:"ss"},[s("van-uploader",{staticClass:"ssimg",attrs:{"after-read":t.afterRead,"preview-size":"100vw"}}),t._v(" "),s("editbanner",{attrs:{left:"头像"}},[t.mode.user_img?s("img",{attrs:{slot:"right",src:t.mode.user_img,alt:""},slot:"right"}):s("img",{attrs:{slot:"right",src:n("2Bxi"),alt:""},slot:"right"})])],1),t._v(" "),s("editbanner",{attrs:{left:"昵称"},on:{asd:function(e){t.show=!0}}},[s("a",{attrs:{slot:"right",href:"javascript:;"},slot:"right"},[t._v(t._s(t.mode.name))])]),t._v(" "),s("editbanner",{attrs:{left:"UID"}},[s("a",{attrs:{slot:"right",href:"javascript:;"},slot:"right"},[t._v(t._s(t.mode.username))])]),t._v(" "),s("editbanner",{attrs:{left:"性别"},on:{asd:function(e){t.ger=!0}}},[s("span",{attrs:{slot:"right"},slot:"right"},[t._v("\n\t\t\t"+t._s("1"==t.mode.gender?"男":"女")+"\n\t\t")])]),t._v(" "),s("editbanner",{attrs:{left:"个性签名"},on:{asd:function(e){t.textshow=!0}}},[s("span",{attrs:{slot:"right"},slot:"right"},[t._v("\n\t\t\t"+t._s(t.mode.user_desc)+"\n\t\t")])]),t._v(" "),s("div",{staticClass:"asdiv",on:{click:function(e){return t.$router.back()}}},[t._v("\n\t\t返回个人中心\n\t")]),t._v(" "),s("van-dialog",{attrs:{title:"昵称","show-cancel-button":""},on:{confirm:t.confirm,cancel:t.cancel},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[s("van-field",{attrs:{autofocus:""},model:{value:t.text,callback:function(e){t.text=e},expression:"text"}})],1),t._v(" "),s("van-dialog",{attrs:{title:"个性签名","show-cancel-button":""},on:{confirm:t.confirmq,cancel:t.cancel},model:{value:t.textshow,callback:function(e){t.textshow=e},expression:"textshow"}},[s("van-field",{attrs:{autofocus:"",type:"textarea"},model:{value:t.text,callback:function(e){t.text=e},expression:"text"}})],1),t._v(" "),s("van-action-sheet",{attrs:{"cancel-text":"取消",actions:t.actions},on:{select:t.onSelect},model:{value:t.ger,callback:function(e){t.ger=e},expression:"ger"}})],1):t._e()},staticRenderFns:[]};var M=n("C7Lr")(A,N,!1,function(t){n("Jm/n")},"data-v-224d691a",null).exports,q=n("IHPB"),J=n.n(q),T={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{on:{click:function(e){return t.$router.push("/article/"+t.detailitem.id)}}},[n("div",{staticClass:"dsada"},[n("div",{staticClass:"imgparms"},[n("img",{staticStyle:{width:"100%"},attrs:{src:t.detailitem.img,alt:""}}),t._v(" "),n("div",{staticClass:"alp"},[t._m(0),t._v(" "),n("div",{staticClass:"icon-file-text"},[n("span",{staticClass:"comment "},[t._v("\n\t\t\t\t\t\t"+t._s(t.detailitem.commentlen?t.detailitem.commentlen:66)+"\n\t\t\t\t\t")])])]),t._v(" "),n("p",[t._v(t._s(t.detailitem.name))])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"icon-play2"},[e("span",{staticClass:"vode"},[this._v("\n\t\t\t\t\t\t1亿...\n\t\t\t\t\t")])])}]};var j=n("C7Lr")({props:["detailitem"]},T,!1,function(t){n("cKMs")},"data-v-74dd1c2b",null).exports,K={data:function(){return{array:[],active:0}},components:{navber:S,detail:j},methods:{setlist:function(){var t=this;return u()(c.a.mark(function e(){var n;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$http.get("/category");case 2:n=e.sent,t.changCat(n.data);case 4:case"end":return e.stop()}},e,t)}))()},changCat:function(t){var e=t.map(function(t,e){return t.list=[],t.page=0,t.pagesize=10,t.loading=!1,t.finished=!1,t});this.array=e,this.selectAticle()},selectAticle:function(){var t=this;return u()(c.a.mark(function e(){var n,s,a;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=t.catgoryitem(),e.next=3,t.$http.get("/detail/"+s._id,{params:{page:s.page,pagesize:s.pagesize}});case 3:a=e.sent,(n=s.list).push.apply(n,J()(a.data)),s.loading=!1,a.data.length<s.pagesize&&(s.finished=!0);case 7:case"end":return e.stop()}},e,t)}))()},catgoryitem:function(){var t=this.array[this.active];return t},onLoad:function(){var t=this,e=this.catgoryitem();setTimeout(function(){e.page+=1,t.selectAticle()},1e3)}},watch:{active:function(){this.selectAticle()}},created:function(){this.setlist()}},U={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home"},[n("navber"),t._v(" "),n("van-tabs",{attrs:{swipeable:"",sticky:""},model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},t._l(t.array,function(e,s){return n("van-tab",{key:s,attrs:{title:e.title}},[n("van-list",{attrs:{"immediate-check":!1,finished:e.finished,"finished-text":"我是有底线的"},on:{load:t.onLoad},model:{value:e.loading,callback:function(n){t.$set(e,"loading",n)},expression:"i.loading"}},[n("div",{staticClass:"detaparent"},t._l(e.list,function(t,e){return n("detail",{key:e,staticClass:"detalite",attrs:{detailitem:t}})}),1)])],1)}),1)],1)},staticRenderFns:[]};var z=n("C7Lr")(K,U,!1,function(t){n("anNB")},"data-v-21307b83",null).exports,O={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"ltemtop"},t._l(t.commentchild,function(e,a){return s("div",{key:a,staticClass:"commcent"},[s("div",{staticClass:"comimg"},[e.userinfo&&e.userinfo.user_img?s("img",{attrs:{src:e.userinfo.user_img,alt:""}}):s("img",{attrs:{src:n("Md4N"),alt:""}}),t._v(" "),s("p",[e.userinfo.name?s("span",[t._v(t._s(e.userinfo.name))]):s("span",[t._v("无名氏")]),t._v(" "),s("span",[t._v(t._s(e.comment_date))])])]),t._v(" "),s("div",{staticClass:"comimgas"},[s("div",{staticClass:"comimgasfont"},[t.item?s("div",[t._v("\n\t\t\t\t\t回复："),s("span",{staticStyle:{color:"#0000ED"}},[t._v(t._s(e.parent_user_info.name))]),t._v(" \n\t\t\t\t\t"+t._s(e.comment_content)+"\n\t\t\t\t\t"),s("span",{staticClass:"huifu",on:{click:function(n){return t.asdpost(e.comment_id)}}},[t._v("回复")])]):s("div",[t._v("\n\t\t\t\t\t"+t._s(e.comment_content)+"\n\t\t\t\t\t"),s("span",{staticClass:"huifu",on:{click:function(n){return t.asdpost(e.comment_id)}}},[t._v("回复")])])])]),t._v(" "),s("commchild-i",{attrs:{commentchild:e.child,item:!0},on:{asdlol:t.polol}})],1)}),0)},staticRenderFns:[]};var B={data:function(){return{comlist:null}},components:{commentltem:n("C7Lr")({name:"commchild-i",props:["commentchild","item"],methods:{asdpost:function(t){this.$emit("asdlol",t),this.$emit("postpublish",t)},polol:function(t){this.asdpost(t),this.$emit("postpublish",t)}}},O,!1,function(t){n("gLT3")},"data-v-23a2e701",null).exports},methods:{comment:function(){var t=this;return u()(c.a.mark(function e(){var n;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$http.get("/comment/"+t.$route.params.id);case 2:(n=e.sent).data&&t.$emit("seless",n.data.length),t.comlist=t.chang(n.data);case 5:case"end":return e.stop()}},e,t)}))()},chang:function(t){return function e(n){for(var s=[],a=0;a<t.length;a++)t[a].parent_id==n&&(s.push(t[a]),t[a].child=e(t[a].comment_id));return s}(null)},dsiid:function(t){console.log(t),this.$emit("dsiid",t)}},created:function(){this.comment()}},H={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"commtop"},t._l(t.comlist,function(e,a){return s("div",{key:a,staticClass:"commtops"},[s("div",{staticClass:"commcent"},[s("div",{staticClass:"comimg"},[e.userinfo&&e.userinfo.user_img?s("img",{attrs:{src:e.userinfo.user_img,alt:""}}):s("img",{attrs:{src:n("Md4N"),alt:""}})]),t._v(" "),s("div",{staticClass:"comimgas"},[s("p",[e.userinfo?s("span",[t._v(t._s(e.userinfo.name))]):s("span",[t._v("无名氏")]),t._v(" "),s("span",[t._v(t._s(e.comment_date))])]),t._v(" "),s("div",{staticClass:"comimgasfont"},[t._v("\n\t\t\t\t\t"+t._s(e.comment_content)+"\n\t\t\t\t\t"),s("span",{staticClass:"huifu",on:{click:function(n){return t.dsiid(e.comment_id)}}},[t._v("回复")])])])]),t._v(" "),s("div",{staticClass:"res"},[s("commentltem",{attrs:{commentchild:e.child},on:{postpublish:t.dsiid}})],1)])}),0)},staticRenderFns:[]};var P=n("C7Lr")(B,H,!1,function(t){n("HKWi")},"data-v-6769ecd2",null).exports,D={data:function(){return{myuser:{},content:""}},props:["delenht"],created:function(){localStorage.getItem("token")&&this.myuserinfo()},methods:{myuserinfo:function(){var t=this;return u()(c.a.mark(function e(){var n;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$http.get("/user/"+localStorage.getItem("id"));case 2:n=e.sent,t.myuser=n.data[0];case 4:case"end":return e.stop()}},e,t)}))()},focuslist:function(){!this.myuser||localStorage.getItem("token")||localStorage.getItem("token")?(this.$emit("postconter",this.content),this.content=""):this.$msg.fail("请先登录")},focusipt:function(){this.$refs.postipt.focus()}}},Q={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"commone"},[s("p",{staticClass:"commone-list"},[s("span",[t._v("评论")]),t._v(" "),s("span",[t._v("("+t._s(t.delenht)+")")])]),t._v(" "),s("div",{staticClass:"commone-user"},[t.myuser.user_img?s("img",{attrs:{src:t.myuser.user_img,alt:""}}):t._e(),t._v(" "),t.myuser.user_img?t._e():s("img",{attrs:{src:n("Md4N"),alt:""}}),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.content,expression:"content"}],ref:"postipt",attrs:{type:"text",placeholder:"说点什么..."},domProps:{value:t.content},on:{input:function(e){e.target.composing||(t.content=e.target.value)}}}),t._v(" "),s("button",{on:{click:t.focuslist}},[t._v("\n\t\t\t发表\n\t\t")])])])},staticRenderFns:[]};var Z={data:function(){return{model:null,commendlist:null,lenht:0,postcom:{comment_content:"",comment_date:"",parent_id:null,article_id:null},collol:null,substrs:null}},components:{navber:S,detail:j,commone:n("C7Lr")(D,Q,!1,function(t){n("F7TL")},"data-v-8ab3401a",null).exports,comment:P},methods:{articlei:function(){var t=this;return u()(c.a.mark(function e(){var n;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$http.get("/article/"+t.$route.params.id);case 2:n=e.sent,t.model=n.data[0],t.model&&t.kikis();case 5:case"end":return e.stop()}},e,t)}))()},commend:function(){var t=this;return u()(c.a.mark(function e(){var n;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$http.get("/commend");case 2:n=e.sent,t.commendlist=n.data;case 4:case"end":return e.stop()}},e,t)}))()},selelenght:function(t){this.lenht=t},postconter:function(t){var e=this;return u()(c.a.mark(function n(){var s,a,r,i,o;return c.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return s=new Date,a=s.getMonth()+1,r=s.getDate(),a<10&&(a="0"+a),r<10&&(r="0"+r),i=a+"-"+r,console.log(i),e.postcom.comment_content=t,e.postcom.comment_date=i,e.postcom.article_id=e.$route.params.id,n.next=12,e.$http.post("/comment_post/"+localStorage.getItem("id"),e.postcom);case 12:o=n.sent,e.$refs.commpy.comment(),e.postcom.parent_id=null,200==o.status&&e.$msg.fail("评论完成");case 16:case"end":return n.stop()}},n,e)}))()},postdsiid:function(t){this.postcom.parent_id=t,this.$refs.commentipt.focusipt()},shoucang:function(){var t=this;return u()(c.a.mark(function e(){var n;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!localStorage.getItem("token")||!localStorage.getItem("id")){e.next=6;break}return e.next=3,t.$http.post("/collection/"+localStorage.getItem("id"),{article_id:t.model.userid});case 3:"收藏成功"==(n=e.sent).data.msg?t.collol=!0:t.collol=!1,t.$msg.fail(n.data.msg);case 6:case"end":return e.stop()}},e,t)}))()},kiki:function(){var t=this;return u()(c.a.mark(function e(){var n;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!localStorage.getItem("token")||!localStorage.getItem("id")){e.next=6;break}return e.next=3,t.$http.get("/collection/"+localStorage.getItem("id"),{params:{article_id:t.$route.params.id}});case 3:n=e.sent,console.log(n),t.collol=n.data.success;case 6:case"end":return e.stop()}},e,t)}))()},substr:function(){var t=this;return u()(c.a.mark(function e(){var n;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!localStorage.getItem("token")||!localStorage.getItem("id")){e.next=6;break}return e.next=3,t.$http.post("/sub_scription/"+localStorage.getItem("id"),{sub_id:t.model.userid});case 3:"关注成功"==(n=e.sent).data.msg?t.substrs=!0:t.substrs=!1,t.$msg.fail(n.data.msg);case 6:case"end":return e.stop()}},e,t)}))()},kikis:function(){var t=this;return u()(c.a.mark(function e(){var n;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!localStorage.getItem("token")||!localStorage.getItem("id")){e.next=5;break}return e.next=3,t.$http.get("/sub_scription/"+localStorage.getItem("id"),{params:{sub_id:t.model.userid}});case 3:n=e.sent,t.substrs=n.data.success;case 5:case"end":return e.stop()}},e,t)}))()}},created:function(){this.articlei(),this.commend(),this.kiki()},watch:{$route:function(){this.articlei(),this.commend(),this.kiki()}}},G={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.model?n("div",[n("navber"),t._v(" "),n("div",{staticClass:"app"},[n("div",{staticClass:"video"},[n("video",{attrs:{src:t.model.content,controls:"controls"}})]),t._v(" "),n("div",{staticClass:"videoinfo"},[n("div",[n("span",{staticClass:"span"},[t._v(t._s(t.model.category.title))]),t._v(" "),n("span",[t._v(t._s(t.model.name))])]),t._v(" "),n("div",{staticClass:"infos"},[n("span",[t._v(t._s(t.model.userinfo.name))]),t._v(" "),n("span",[t._v("145.25万播放")]),t._v(" "),n("span",[t._v("6257弹幕")]),t._v(" "),n("span",[t._v(t._s(t.model.date))])]),t._v(" "),n("div",{staticClass:"plp"},[n("div",{on:{click:t.shoucang}},[n("span",{staticClass:"icon-star-full",class:{spans:t.collol}}),t._v(" "),n("span",{class:{spans:t.collol}},[t._v("收藏")])]),t._v(" "),n("div",{on:{click:t.substr}},[n("span",{staticClass:"icon-bubble",class:{spans:t.substrs}}),t._v(" "),n("span",{class:{spans:t.substrs}},[t._v("关注")])]),t._v(" "),t._m(0)]),t._v(" "),n("div",{staticClass:"detaparent"},t._l(t.commendlist,function(t,e){return n("detail",{key:e,staticClass:"detalite",attrs:{detailitem:t}})}),1),t._v(" "),n("commone",{ref:"commentipt",attrs:{delenht:t.lenht},on:{postconter:t.postconter}}),t._v(" "),n("comment",{ref:"commpy",on:{seless:t.selelenght,dsiid:t.postdsiid}})],1)])],1):t._e()},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("span",{staticClass:" icon-redo2"}),this._v(" "),e("span",[this._v("分享")])])}]};var W=n("C7Lr")(Z,G,!1,function(t){n("EeRA")},"data-v-8a61dac8",null).exports;s.a.use(i.a);var X=[{path:"/",name:"login",component:C},{path:"/login",name:"login",component:C},{path:"/register",name:"register",component:k},{path:"/userinfo",component:R,meta:{istoken:!0}},{path:"/edit",name:"edit",component:M,meta:{istoken:!0}},{path:"/home",name:"home",component:z,meta:{keepalive:!0}},{path:"/article/:id",name:"acticle",component:W}],V=new i.a({routes:X});V.beforeEach(function(t,e,n){if(!localStorage.getItem("token")&&!localStorage.getItem("id")&&1==t.meta.istoken)return V.push("/login"),void s.a.prototype.$msg.fail("请重新登录");n()});var Y=i.a.prototype.push;i.a.prototype.push=function(t){return Y.call(this,t).catch(function(t){return t})};var tt=V,et=n("L+OJ");const nt=n.n(et).a.create({baseURL:"http://112.74.99.5:3000/web/api"});nt.interceptors.request.use(function(t){return localStorage.getItem("token")&&localStorage.getItem("id")&&(t.headers.Authorization="Bearer "+localStorage.getItem("token")),t},function(t){return Promise.reject(t)}),nt.interceptors.response.use(function(t){return t},function(t){return Promise.reject(t)});var st=nt,at=(n("Q0/0"),n("Eyu4"));n("wZZl");s.a.prototype.$http=st,s.a.prototype.$msg=at.a,s.a.use(at.b),s.a.config.productionTip=!1,new s.a({el:"#app",router:tt,components:{App:r},template:"<App/>"})},"Q0/0":function(t,e){},Trrk:function(t,e){},UQJM:function(t,e){},XJs3:function(t,e){},anNB:function(t,e){},cKMs:function(t,e){},gLT3:function(t,e){},hKKx:function(t,e){},kIoj:function(t,e,n){"use strict";var s={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"aa"},[e("div",[e("span",[this._v("视频")]),this._v(" "),e("span",[this._v("动态")])]),this._v(" "),e("div")])}]};e.a=s},mgr1:function(t,e){},mtcq:function(t,e){},wZZl:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.184b1abbec905477a710.js.map